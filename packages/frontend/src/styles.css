@import "tailwindcss";

:root {
  --bg: #ffffff;
  --text: #111827;
  --muted: #6b7280;
  --card: #f8fafc;
  --border: #e5e7eb;
}

[data-theme="dark"] {
  --bg: #0b1220;
  --text: #e6eef8;
  --muted: #94a3b8;
  --card: #071127;
  --border: #1f2937;
}

@layer base {
  html,
  body,
  #root {
    @apply min-h-screen m-0 bg-[var(--bg)] text-[var(--text)] font-sans;
  }

  input,
  textarea,
  button {
    @apply font-sans;
  }

  input,
  textarea {
    @apply px-3 py-2 border border-[var(--border)] rounded-md bg-[var(--card)] text-[var(--text)];
  }

  button {
    @apply bg-blue-600 text-white border-0 px-3 py-2 rounded-md cursor-pointer;
  }

  button[disabled] {
    @apply opacity-60 cursor-not-allowed;
  }

  button:focus {
    @apply outline-none ring-2 ring-blue-500/30;
  }
}

@layer components {
  .site-container {
    @apply px-6 py-6 max-w-4xl mx-auto sm:px-4;
  }

  .site-nav {
    @apply flex items-center justify-between gap-3 mb-4;
  }

  .nav-left {
    @apply flex items-center gap-3 flex-1 flex-wrap;
  }

  .logo {
    @apply inline-flex items-center gap-2 font-semibold text-[1.05rem];
  }

  .logo-icon {
    @apply w-5 h-5;
  }

  .logo-text {
    @apply leading-none;
  }

  .nav-links {
    @apply flex gap-3 flex-wrap;
  }

  .nav-links a {
    @apply text-[var(--muted)] no-underline inline-flex items-center;
  }

  .nav-links a:hover {
    @apply text-[var(--text)];
  }

  .nav-links a[aria-current="page"] {
    @apply text-[var(--text)] font-semibold border-b-2 border-blue-600;
  }

  .nav-links .icon {
    @apply w-[18px] h-[18px] mr-1.5;
  }

  .nav-right {
    @apply flex items-center gap-2;
  }

  .menu-button {
    @apply hidden;
  }

  .sr-only {
    @apply sr-only;
  }

  .journal-header {
    @apply flex justify-between items-center gap-3 flex-wrap;
  }

  .journal-textarea {
    @apply w-full min-h-[96px] resize-y text-base p-3 rounded-lg;
  }

  .controls {
    @apply mt-2 flex gap-2 flex-wrap;
  }

  .entry-list {
    @apply list-none p-0 m-0;
  }

  .entry {
    @apply bg-[var(--card)] rounded-lg p-3 mb-2 border border-black/5;
  }

  .welcome-card {
    @apply bg-[var(--card)] border border-black/10 rounded-xl p-4;
  }

  .welcome-title {
    @apply m-0 mb-1.5;
  }

  .welcome-text {
    @apply text-[var(--muted)] m-0;
  }

  .header-actions {
    @apply flex gap-3 items-center;
  }

  .divider {
    @apply my-6 border-0 border-t border-black/10;
  }
}

@layer utilities {
  @media (max-width: 900px) {
    .site-container {
      @apply px-4;
    }

    .site-nav {
      @apply flex items-center justify-between gap-3 mb-4 flex-nowrap;
    }

    .nav-left {
      @apply flex items-center gap-3 flex-1 min-w-0;
    }

    .logo {
      @apply whitespace-nowrap mb-0;
    }

    .nav-right {
      @apply flex items-center gap-2 shrink-0;
    }

    .menu-button {
      @apply inline-flex bg-transparent text-[var(--text)] border border-black/20 px-2.5 py-1.5 rounded-md text-sm;
    }

    .nav-links {
      @apply hidden w-full;
    }

    .nav-links.open {
      @apply flex flex-col gap-2 mt-2 w-full;
    }

    main {
      @apply p-3;
    }

    main h1 {
      @apply text-2xl mb-6;
    }

    main h2 {
      @apply text-lg mb-3 mt-0;
    }

    main input[disabled] {
      @apply opacity-60 cursor-not-allowed;
    }

    main small {
      @apply block mt-1 text-[var(--muted)];
    }

    main > div > div {
      @apply mb-4;
    }

    .journal-header {
      @apply flex-row items-center justify-between mb-5;
    }

    .journal-header h1 {
      @apply m-0 text-2xl flex-1;
    }

    .header-actions {
      @apply flex gap-2 shrink-0;
    }

    .journal-textarea {
      @apply w-full min-h-[120px] mb-3 p-3 box-border;
    }

    .controls {
      @apply flex flex-col gap-2 mb-5;
    }

    .controls button {
      @apply w-full py-3 text-base;
    }

    select {
      @apply w-full px-3 py-2 box-border mb-3;
    }

    .welcome-card {
      @apply p-3;
    }

    .entry {
      @apply p-3 mb-3;
    }

    .entry-list {
      @apply p-0;
    }

    section h2 {
      @apply my-5 text-xl;
    }
  }

  @media (max-width: 640px) {
    .site-container {
      @apply pb-20; /* space for bottom nav */
    }

    .site-nav {
      @apply fixed left-0 right-0 bottom-0 m-0 px-4 py-2 bg-[var(--bg)] border-t border-black/10 z-[1000];
    }

    .nav-left {
      @apply flex-1;
    }

    .logo {
      @apply hidden;
    }

    .nav-right,
    .menu-button {
      @apply hidden;
    }

    .nav-links {
      @apply flex flex-1 justify-around items-center gap-0 w-full m-0;
    }

    .nav-links a {
      @apply inline-flex flex-col items-center text-xs text-[var(--muted)];
    }

    .nav-links .icon {
      @apply w-[22px] h-[22px] mb-0.5;
    }

    .nav-links a[aria-current="page"] {
      @apply text-[var(--text)] font-semibold border-0;
    }
  }
}
